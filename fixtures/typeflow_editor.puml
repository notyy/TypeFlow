
@startuml
class UserInputEndpoint <<InputEndpoint>>
class UserInputInterpreter <<PureFunction>>
class WrapOutput <<PureFunction>>
class CommandLineOutputEndpoint <<OutputEndpoint>>
class getModelPath1 <<PureFunction>>
class command2ModelName1 <<PureFunction>>
class getModelPath2 <<PureFunction>>
class readFile1 <<OutputEndpoint>>
class json2Model1 <<PureFunction>>
class command2ModelName2 <<PureFunction>>
class getModelPath3 <<PureFunction>>
class readFile2 <<OutputEndpoint>>
class json2Model2 <<PureFunction>>

UserInputEndpoint --> UIE::UserInput
UIE::UserInput --> UserInputInterpreter
UserInputInterpreter --> UII::UnknownCommand
UII::UnknownCommand --> WrapOutput
UserInputInterpreter --> UII::QuitCommand
UII::QuitCommand --> WrapOutput
UserInputInterpreter --> UII::CreateModelCommand
UII::CreateModelCommand --> CreateNewModel
CreateNewModel --> CNM::ModelCreationSuccess
CNM::ModelCreationSuccess --> WrapOutput
UserInputInterpreter --> UII::AddInputEndpointCommand
UII::AddInputEndpointCommand --> AddDefinition
UII::AddInputEndpointCommand --> Command2ModelName
UserInputInterpreter --> UII::AddFunctionCommand
UII::AddFunctionCommand --> AddDefinition
UII::AddFunctionCommand --> Command2ModelName
UserInputInterpreter --> UII::AddOutputEndpointCommand
UII::AddOutputEndpointCommand --> AddDefinition
UII::AddOutputEndpointCommand --> Command2ModelName
Command2ModelName --> C2MN::String
C2MN::String --> getModelPath1
getModelPath1 --> getModelPath1::GMP::Path
getModelPath1::GMP::Path --> ReadFile
ReadFile --> RF::String
RF::String --> Json2Model
Json2Model --> J2M::com.github.notyy.typeflow.domain.Model
J2M::com.github.notyy.typeflow.domain.Model --> AddDefinition
AddDefinition --> com.github.notyy.typeflow.domain.Model
com.github.notyy.typeflow.domain.Model --> Model2Json
com.github.notyy.typeflow.domain.Model --> Model2ModelName
com.github.notyy.typeflow.domain.Model --> OnSaveModelSuccess
com.github.notyy.typeflow.domain.Model --> Model2PlantUML
UserInputInterpreter --> UII::ConnectElementCommand
UII::ConnectElementCommand --> ConnectModelElement
UII::ConnectElementCommand --> command2ModelName1
command2ModelName1 --> command2ModelName1::C2MN::String
command2ModelName1::C2MN::String --> getModelPath2
getModelPath2 --> getModelPath2::GMP::Path
getModelPath2::GMP::Path --> readFile1
readFile1 --> readFile1::RF::String
readFile1::RF::String --> json2Model1
json2Model1 --> json2Model1::J2M::com.github.notyy.typeflow.domain.Model
json2Model1::J2M::com.github.notyy.typeflow.domain.Model --> ConnectModelElement
ConnectModelElement --> com.github.notyy.typeflow.domain.Model
UserInputInterpreter --> UII::CreateFlowCommand
UII::CreateFlowCommand --> CreateFlow
UII::CreateFlowCommand --> command2ModelName2
command2ModelName2 --> command2ModelName2::C2MN::String
command2ModelName2::C2MN::String --> getModelPath3
getModelPath3 --> getModelPath3::GMP::Path
getModelPath3::GMP::Path --> readFile2
readFile2 --> readFile2::RF::String
readFile2::RF::String --> json2Model2
json2Model2 --> json2Model2::J2M::com.github.notyy.typeflow.domain.Model
json2Model2::J2M::com.github.notyy.typeflow.domain.Model --> CreateFlow
CreateFlow --> com.github.notyy.typeflow.domain.Model
Model2ModelName --> M2MN::String
M2MN::String --> GetModelPath
GetModelPath --> GMP::Path
GMP::Path --> SaveToFile
Model2Json --> M2J::String
M2J::String --> SaveToFile
SaveToFile --> STF::Unit
STF::Unit --> OnSaveModelSuccess
OnSaveModelSuccess --> OSMS::ModelUpdateSuccess
OSMS::ModelUpdateSuccess --> WrapOutput
WrapOutput --> WO::WrappedOutput
WO::WrappedOutput --> CommandLineOutputEndpoint
Model2PlantUML --> PlantUML
PlantUML --> SavePlantUML
@enduml
